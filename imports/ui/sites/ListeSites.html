<template name="ListeSites">
	<h3><span class="glyphicon glyphicon-map-marker"></span>&emsp;Liste des sites</h3>
	
	<div class="insert-button">
		<span class="to-left"><button type="button" class="btn btn-success new-site" data-toggle="modal" data-target="#ModalNew"  data-backdrop="static">Ajouter&emsp;<span class="glyphicon glyphicon-plus"></span></button></span>
		{{> ModalNewSite}}
	</div>

	<div class="input-group search-section">
	  <span class="to-right">{{> EasySearch.Input index=sitesIndex }}</span>
	  <span class="input-group-addon glyphicon glyphicon-search" aria-hidden="true" id="sizing-addon2"></span>
	</div>
	<span class="to-right results-count"><i>Nombre de résultat(s) : {{resultsCount}}</i></span>

	<section class="sites">
		{{#if Template.subscriptionsReady}}
			<table class="table-donnees">
				<tr>
					<th class="colonne-site">Nom</th>
					<th class="colonne-site">Adresse</th>
					<th class="colonne-site">Téléphone</th>
					<th class="colonne-site">Note</th>
					<th class="colonne-icone"></th>
					<th class="colonne-icone"></th>
				</tr>
				{{#EasySearch.IfNoResults index=sitesIndex}}
				<tr>
					<td colspan="7">Pas de résultats trouvés!</td>
				</tr>
				{{/EasySearch.IfNoResults}}
				{{#EasySearch.Each index=sitesIndex }}
					<tr class="row-donnees">
					{{> ElementSite}}
					</tr>
				{{/EasySearch.Each}}
			</table>
			{{> EasySearch.Pagination index=sitesIndex customRenderPagination="Pagination"}}

			{{#each sites}}
				{{> ModalEditSite}}
			{{/each}}
		{{else}}
			{{> spinner}}
		{{/if}}
	</section>
</template>
